<!DOCTYPE html>
<html lang="ja">
	<head>
		<title><% if (page === 1) { %>富永日記帳<% } else { %>タイトル一覧（<%= page %>ページ目）<% } %></title>

		<meta name="viewport" content="width=device-width,initial-scale=1" />

		<link rel="alternate" href="/feed" type="application/atom+xml" title="「富永日記帳」の新着フィード" />
		<% if (page > 2) { %>
		<link rel="prev" href="/list/<%= page - 1 %>" title="新しい記事" />
		<% } else if (page === 2) { %>
		<link rel="prev" href="/" title="新しい記事" />
		<% } %> <% if (page < totalPage) { %>
		<link rel="next" href="/list/<%= page + 1 %>" title="古い記事" />
		<% } %>
		<link rel="stylesheet" href="/style/blog.css" />
		<link rel="stylesheet" href="/style/layout_full.css" title="通常表示" />
		<link rel="alternate stylesheet" href="/style/layout_reader.css" title="リーダー表示" id="stylesheet-print" />
		<link rel="icon" href="/favicon.svg" type="image/svg+xml" />

		<script src="/script/trusted-types.js"></script>
		<script src="/script/blog.mjs" type="module"></script>
		<script src="https://www.googletagmanager.com/gtag/js?id=G-SZYWFCF4JS" defer=""></script>
		<script src="/script/google-analytics.js" defer=""></script>
	</head>
	<body itemscope="" itemtype="http://schema.org/Blog">
		<div class="l-page">
			<%- include('./_include/_header', { heading: true }) %>

			<div id="main" class="l-main">
				<div class="l-main__header">
					<nav class="p-page-nav" aria-label="前後記事">
						<ul class="p-page-nav__list">
							<% if (page > 2) { %>
							<li><a href="/" class="p-page-nav__link -start">最新</a></li>
							<li><a href="/list/<%= page - 1 %>" rel="prev" class="p-page-nav__link -prev">新しい記事</a></li>
							<% } else if (page === 2) { %>
							<li><a href="/" rel="prev" class="p-page-nav__link -prev">新しい記事（最新）</a></li>
							<% } %><% if (page < totalPage) { %>
							<li><a href="/list/<%= page + 1 %>" rel="next" class="p-page-nav__link -next">古い記事</a></li>
							<% } %>
						</ul>
					</nav>
				</div>
				<main role="main" class="l_main__main">
					<ul class="p-title-list -list">
						<% for (const topicData of topicDataList) { %>
						<li>
							<a href="/<%= topicData.id %>">
								<span class="p-title-list__thumb">
									<% if (topicData.image_internal !== null) { %>
									<picture>
										<source
											type="image/avif"
											srcset="https://media.w0s.jp/thumbimage/diary/<%= topicData.image_internal %>?type=avif;w=180;mh=180;quality=60, https://media.w0s.jp/thumbimage/diary/<%= topicData.image_internal %>?type=avif;w=360;mh=360;quality=30 2x"
										/>
										<source
											type="image/webp"
											srcset="https://media.w0s.jp/thumbimage/diary/<%= topicData.image_internal %>?type=webp;w=180;mh=180;quality=60, https://media.w0s.jp/thumbimage/diary/<%= topicData.image_internal %>?type=webp;w=360;mh=360;quality=30 2x"
										/>
										<img
											src="https://media.w0s.jp/thumbimage/diary/<%= topicData.image_internal %>?type=jpeg;w=180;mh=180;quality=60"
											alt=""
											class="p-title-list__image"
										/>
									</picture>
									<% } else if (topicData.image_external !== null) { %>
									<img src="<%= topicData.image_external %>" alt="" class="p-title-list__image" />
									<% } else { %>
									<img src="/image/noimage.svg" alt="" class="p-topic-relation__image" />
									<% } %>
								</span>
								<span class="p-title-list__text"><%= topicData.title %></span>
							</a>

							<div class="p-title-list__time">
								<p>
									投稿:<time datetime="<%= topicData.insert_date.format('YYYY-MM-DDTHH:mm:ssZ') %>"><%= topicData.insert_date.format('YYYY年M月D日') %></time>
								</p>
								<% if (topicData.last_update !== null) { %>
								<p>
									更新:<time datetime="<%= topicData.last_update.format('YYYY-MM-DDTHH:mm:ssZ') %>"><%= topicData.last_update.format('YYYY年M月D日') %></time>
								</p>
								<% } %>
							</div>
						</li>
						<% } %>
					</ul>
				</main>
				<div class="l-main__footer">
					<nav class="p-page-nav" aria-label="前後記事">
						<ul class="p-page-nav__list">
							<% if (page > 2) { %>
							<li><a href="/" class="p-page-nav__link -start">最新</a></li>
							<li><a href="/list/<%= page - 1 %>" rel="prev" class="p-page-nav__link -prev">新しい記事</a></li>
							<% } else if (page === 2) { %>
							<li><a href="/" rel="prev" class="p-page-nav__link -prev">新しい記事（最新）</a></li>
							<% } %><% if (page < totalPage) { %>
							<li><a href="/list/<%= page + 1 %>" rel="next" class="p-page-nav__link -next">古い記事</a></li>
							<% } %>
						</ul>
					</nav>
				</div>
			</div>

			<%- include('./_include/_sidebar') %><%- include('./_include/_footer') %>
		</div>
	</body>
</html>
